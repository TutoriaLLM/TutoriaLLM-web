---
title: Dockerを利用して開発する
description: Docker compose を使用して、TutoriaLLM アプリを開発する方法を説明します。
sidebar:
  order: 3
---

import {
  LinkCard,
  Card,
  CardGrid,
  Aside,
  Icon,
  Code,
} from "@astrojs/starlight/components";

<Aside type="note" title="ノート">
  この記事の情報は今後更新予定です。
</Aside>

## Docker を利用した開発

TutoriaLLM では、Docker compose を使用して、アプリを開発することができます。以下の手順からアプリを開発してみましょう。

<Aside type="note" title="Dockerについて">
  Dockerについての情報は、[Docker](https://www.docker.com/)の公式サイトを参照してください。
</Aside>

### リポジトリのクローン

GitHub リポジトリをクローンして、開発を行います。お好みのエディタを使用してコードを編集し、Docker を利用したローカル環境でアプリを利用することができます。

<LinkCard
  title="GitHub リポジトリ"
  description="TutoriaLLM の GitHub リポジトリを確認してください。"
  href="https://github.com/TutoriaLLM/TutoriaLLM"
/>

また、アプリの実行には Docker が必要です。Docker をインストールしていない場合は、以下のリンクからインストールしてください。

<LinkCard
  title="Docker のインストール"
  description="Docker をインストールする方法を確認してください。"
  href="https://docs.docker.com/get-docker/"
/>

<Aside type="note" title="開発を行わない場合">
  開発を行わない場合は、[Docker
  Hub](https://tutoriallm.com/developer/deployment/)から直接イメージを利用できます。PostgreSQL,
  Redis と接続する必要があります。
</Aside>

### compose ファイルの作成

<Aside type="note" title="ノート">
  このファイルは、[GitHubリポジトリ](https://github.com/TutoriaLLM/TutoriaLLM/)
  の`docker-compose.yml`ファイルを参照しています。このファイルは、開発向けのファイルのため、[実稼働アプリをビルドする](/developer/deployment)
  場合は`docker-compose.prod.yml`ファイルを利用することをお勧めします。
</Aside>

import composeExample from "../../media/code/docker-compose.yml?raw";

以下は開発に利用できる`docker-compose.yml`ファイルの例です：

<Code code={composeExample} lang="yaml" title="/docker-compose.yml" />

### .env ファイルの作成

`docker-compose.yml`ファイルと同じディレクトリに`.env`ファイルを作成してください。
以下は 開発サーバーで必要な環境変数の例です：

import envExample from "../../media/code/.env.dev.example?raw";

<Code code={envExample} lang="txt" title="/env.dev.example" />

### サーバーの起動

サーバーは Docker を利用してホストすることができます。以下のコマンドで開発サーバーを起動します：

```sh

docker compose up

# ビルドを行う場合

docker compose up --build

# バックグラウンドで起動する場合

docker compose up -d

```

<Aside type="note" title="ノート">
  TutoriaLLMでは、3000をアプリに、3001をVM実行のエントリーポイントのポートとして使用しています。
</Aside>

### HMR の使用

HMR(Hot Module Replacement)を使用したい場合は、以下のコマンドで起動します。ファイルを変更すると自動的にリロードされます。

<Aside type="note" title="HMRとは">
  HMR
  は、ファイルを変更すると自動的にリロードされる機能です。TutoriaLLMでは`docker
  conpose
  watch`を利用することでDockerを再起動することなく、ファイルを変更することができます。
</Aside>

```sh

docker compose watch

```
